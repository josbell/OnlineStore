<div class="container">
	<div class="row">
		<div class="col-md-6">
			<form class="form-horizontal" id="customerForm" name='customer' ng-submit="create()" >
				<fieldset>
					<div id="legend">
						<legend class="">Add a new customer</legend>
						<p class="help-block" style="color: #a94442" ng-if='newCustomer.err'>{{newCustomer.err}}</p>
					</div>
					<div class="input-group" ng-class="{'has-error':newCustomer.err}">
						<input class="form-control" type="text" name="name" ng-model='newCustomer.name'  minlength="2" placeholder="Customer Name..." required>
						<span class="input-group-btn">
							<button class="btn btn-success" type="submit">Add</button>
						</span>

					</div>
				</fieldset>
			</form>
		</div>
	</div>
	<div class="pull-right">
		<input ng-model='search.name' type="text" name="search" placeholder="search name">
	</div>
	<div id="customerTable">
		<table class="table">
			<tbody>
				<tr>
					<th>Customer Name</th>
					<th>Created Date</th>
					<th>Actions</th>
				</tr>
				<tr ng-repeat='customer in customers | filter:search:strict'>

					<td ng-if='!customer.editing'>{{customer.name}}</td>
					
					<td ng-if='customer.editing'>
						<form ng-submit='update(customer)'>
							<input type="text" ng-model='customer.name'>
							<input class="btn btn-default" type="submit" style="display: none">
						</form>
					</td>
					
					<td>{{customer.createdAt | date }}</td>

					<td>
						<button type="button" ng-click='customer.editing =true'>Edit</button> 
						<button type="button" ng-click='delete(customer._id)'>Remove</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>